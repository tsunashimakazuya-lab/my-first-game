<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>マイゲーム</title>
</head>
<body>
    <h1>プログラミングの世界へようこそ！</h1>
    <p>はじめての自作アプリの第一歩です。</p>
    
    <button id="gameButton"onclick="startGame()">ゲームスタート！</button>
    <p id="message"></p>
    <p id="timer"></p>
    <script>
     let count = 0; // スコアを数える変数
     let timeleft = 5
     let timerId; // タイマーIDを保存する変数
     let gameActive = false; // ゲームがアクティブかどうかを示すフラグ
    
     function startGame() {
        if(gameActive)return; // ゲームが既にアクティブなら何もしない

        //ゲームを初期化
        count = 0;
        timeleft = 5;
        gameActive = true;
        document.getElementById('message').innerText = '今のスコア：0点！';
        document.getElementById('timer').innerText = '残り：' + timeleft + '秒';
        document.getElementById('gameButton').innerText = '連打！';

        // タイマーを開始
        timerId = setInterval(countDown, 1000);
    }
    function countDown() {
        timeleft--;
        document.getElementById('timer').innerText = '残り：' + timeleft + '秒';

        if(timeleft <= 0) {
            clearInterval(timerId); // タイマーを停止
            gameActive = false; // ゲームを非アクティブにする
            alert('時間切れ！あなたのスコアは ' + count + ' 点です。');
            document.getElementById('gameButton').innerText = 'スタート！';
            document.getElementById('timer').innerText = '';
        }

        function changetext() {
            if(!gameActive)return; // ゲームがアクティブでないなら何もしない

            count = count + 1; // 1ずつ増やす
            document.getElementById('message').innerText = '今のスコア：' + count + '点！';
            let buttonElement = document.querySelector('button');
            if(count % 2 === 0){
               buttonElement.style.backgroundColor = 'blue';
               buttonElement.style.color = 'white';
            } else {
                buttonElement.style.backgroundColor = 'Red';
                buttonElement.style.color = 'white';
            }
        }
    }
    </script>
</body>
</html>