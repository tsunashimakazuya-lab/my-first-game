<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ãƒã‚¤ã‚²ãƒ¼ãƒ </title>
</head>
<body>
    <h1>ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®ä¸–ç•Œã¸ã‚ˆã†ã“ãï¼</h1>
    <p>ã¯ã˜ã‚ã¦ã®è‡ªä½œã‚¢ãƒ—ãƒªã®ç¬¬ä¸€æ­©ã§ã™ã€‚</p>
    
    <button id="gameButton"onclick="startGame()">ã‚²ãƒ¼ãƒ ã‚¹ã‚¿ãƒ¼ãƒˆï¼</button>
    <p id="message"></p>
    <p id="timer"></p>
    <script>
     let count = 0; // ã‚¹ã‚³ã‚¢ã‚’æ•°ãˆã‚‹å¤‰æ•°
     let timeleft = 5
     let timerId; // ã‚¿ã‚¤ãƒãƒ¼IDã‚’ä¿å­˜ã™ã‚‹å¤‰æ•°
     let gameActive = false; // ã‚²ãƒ¼ãƒ ãŒã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‹ã©ã†ã‹ã‚’ç¤ºã™ãƒ•ãƒ©ã‚°
    
     function startGame() {
        if(gameActive)return; // ã‚²ãƒ¼ãƒ ãŒæ—¢ã«ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚‰ä½•ã‚‚ã—ãªã„

        //ã‚²ãƒ¼ãƒ ã‚’åˆæœŸåŒ–
        count = 0;
        timeleft = 5;
        gameActive = true;
        document.getElementById('message').innerText = 'ä»Šã®ã‚¹ã‚³ã‚¢ï¼š0ç‚¹ï¼';
        document.getElementById('timer').innerText = 'æ®‹ã‚Šï¼š' + timeleft + 'ç§’';
        document.getElementById('gameButton').innerText = 'é€£æ‰“ï¼';

        // ã‚¿ã‚¤ãƒãƒ¼ã‚’é–‹å§‹
        timerId = setInterval(countDown, 1000);
    }
    function countDown() {
        timeleft--;
        document.getElementById('timer').innerText = 'æ®‹ã‚Šï¼š' + timeleft + 'ç§’';

        if(timeleft <= 0) {
            clearInterval(timerId); // ã‚¿ã‚¤ãƒãƒ¼ã‚’åœæ­¢
            gameActive = false; // ã‚²ãƒ¼ãƒ ã‚’éã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«ã™ã‚‹
            alert('æ™‚é–“åˆ‡ã‚Œï¼ã‚ãªãŸã®ã‚¹ã‚³ã‚¢ã¯ ' + count + ' ç‚¹ã§ã™ã€‚');
            document.getElementById('gameButton').innerText = 'ã‚¹ã‚¿ãƒ¼ãƒˆï¼';
            document.getElementById('timer').innerText = '';
        }

        function changetext() {
            if(!gameActive)return; // ã‚²ãƒ¼ãƒ ãŒã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã§ãªã„ãªã‚‰ä½•ã‚‚ã—ãªã„

            count = count + 1; // 1ãšã¤å¢—ã‚„ã™
            document.getElementById('message').innerText = 'ä»Šã®ã‚¹ã‚³ã‚¢ï¼š' + count + 'ç‚¹ï¼';
           //ã€€ãƒœã‚¿ãƒ³ã®è‰²ã‚’å¤‰ãˆã‚‹æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¾ã™
           let buttonElement = document.querySelector('button');
           if(count % 2 === 0){
               buttonElement.style.backgroundColor = 'blue';
               buttonElement.style.color = 'white';
              } else {
                buttonElement.style.backgroundColor = 'Red';
                buttonElement.style.color = 'white';
                  }
            if(count === 10){
                alert('ãŠã‚ã§ã¨ã†ï¼10ç‚¹ã«åˆ°é”ã—ã¾ã—ãŸğŸ‰');
                count= 0; // ã‚¹ã‚³ã‚¢ã‚’ãƒªã‚»ãƒƒãƒˆ
                document.getElementById('message').innerText = 'æ¬¡ã®ã‚²ãƒ¼ãƒ ã‚’é–‹å§‹ã—ã¾ã™';
                buttonElement.style.backgroundColor = '';
                buttonElement.style.color = '';
            }
        }
    </script>
</body>
</html>